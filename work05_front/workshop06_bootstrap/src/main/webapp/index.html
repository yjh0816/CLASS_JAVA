<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/article.css">
  <link rel="stylesheet" href="css/nav.css">
  <link rel="stylesheet" href="css/footer.css">
  <style>
    article .main-item img{
      width: 100%;
    } 

  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <script type="text/javascript">
  let bannerList = [];
  let bannerIndex = 0;

  $(document).ready( function(){
	//1. 비동기로 배너광고
	$.ajax({
		type:'get',
		url:'./bannerList.json',
		success:function(data){
			var bannerList = data.banners;
			
			banner.innerHTML = bannerList[bannerIndex++].bannerText;
			setInterval(function(){
				banner.innerHTML = bannerList[bannerIndex++].bannerText;
				if(bannerIndex===bannerList.length)	idx=0;
			}, 3000);			
		}, error:(err)=>{
			console.log(err);
		}
	});
	
	//arrow 함수 사용 예
	/*
	  $.ajax({
			type:'get',
			url:'./bannerList.json',
			success:(res)=>{
				const bannerList = res.banners;
				let idx = 0;
				banner.innerHTML = bannerList[idx++].bannerText;
				setInterval(() => {
					banner.innerHTML = bannerList[idx++].bannerText;
					if(idx===bannerList.length)	idx=0;
				}, 3000);
			}, error:(err)=>{
				console.log(err);
			}
		});
	*/
    
	//2. 버튼 클릭 JQuery	
    $(".main-item-btn").click(function() {
    	 let id = $(this).closest(".main-item").attr("id");
    	 alert(id);
	});         
  });

  </script>
  <title>IT's KB</title>
</head>
<body>
  <div id="container">
    <nav class="navbar navbar-expand-sm bg-light">
      <ul class="navbar-nav">
        <li class="nav-item logo"><img src="logo.jpg" alt=""></li>
        <li class="nav-item"><a class="nav-link" href="personal.html">개인</a></li>
        <li class="nav-item"><a class="nav-link" href="business.html">기업</a></li>
        <li class="nav-item"><a class="nav-link" href="login.html">로그인</a></li>
        <li class="nav-item"><a class="nav-link" href="register.html">회원가입</a></li>
      </ul>
    </nav>
    <div id="banner">지금 당신의 행복! IT's KB Life!</div>
    <article class="container-fluid">
   		<div class="row">
	      <div class="main-item col-lg-4" id="10">
	        <img src="https://picsum.photos/200" class="img-thumbnail" alt="">
	        <h2>main-item 1</h2>
	        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
	        <button class="main-item-btn btn btn-primary">button 1</button>
	      </div>
	     
	      <div class="main-item offset-lg-4 col-lg-4" id="30">
	        <img src="https://picsum.photos/200" class="img-thumbnail" alt="">
	        <h2>main-item 3</h2>
	        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
	        <button class="main-item-btn btn btn-primary">button 3</button>
	      </div>
      </div>
    </article>
    
    <footer>
      <ul>
        <li class="address">12345 address 1 address 2 address 3</li>
        <li class="phone">02-0000-0000</li>
      </ul>
    </footer>
  </div>
</body>
</html>